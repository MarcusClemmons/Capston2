{"ast":null,"code":"import _objectSpread from \"/home/mark/lastCapstone2/my-app-name/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _slicedToArray from \"/home/mark/lastCapstone2/my-app-name/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nvar _jsxFileName = \"/home/mark/lastCapstone2/my-app-name/src/components/AccountContext.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { useNavigate } from \"react-router\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _require = require(\"react\"),\n    createContext = _require.createContext,\n    useState = _require.useState,\n    useEffect = _require.useEffect;\n\nexport var AccountContext = createContext();\n\nvar UserContext = function UserContext(_ref) {\n  _s();\n\n  var children = _ref.children;\n\n  var _useState = useState({\n    loggedIn: null\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      user = _useState2[0],\n      setUser = _useState2[1];\n\n  var navigate = useNavigate();\n  useEffect(function () {\n    fetch(\"http://localhost:4000/auth/login\", {\n      credentials: \"include\"\n    }).catch(function (err) {\n      setUser({\n        loggedIn: false\n      });\n      return;\n    }).then(function (r) {\n      if (!r || !r.ok || r.status >= 400) {\n        setUser({\n          loggedIn: false\n        });\n        return;\n      }\n\n      return r.json();\n    }).then(function (data) {\n      if (!data) {\n        setUser({\n          loggedIn: false\n        });\n        return;\n      }\n\n      setUser(_objectSpread({}, data));\n      navigate(\"/home\");\n    }); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  return /*#__PURE__*/_jsxDEV(AccountContext.Provider, {\n    value: {\n      user: user,\n      setUser: setUser\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(UserContext, \"M1neyIgBCt7DbsYPVs8EKBXQY7s=\", false, function () {\n  return [useNavigate];\n});\n\n_c = UserContext;\nexport default UserContext;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserContext\");","map":{"version":3,"names":["useNavigate","require","createContext","useState","useEffect","AccountContext","UserContext","children","loggedIn","user","setUser","navigate","fetch","credentials","catch","err","then","r","ok","status","json","data"],"sources":["/home/mark/lastCapstone2/my-app-name/src/components/AccountContext.js"],"sourcesContent":["import { useNavigate } from \"react-router\";\n\nconst { createContext, useState, useEffect } = require(\"react\");\n\nexport const AccountContext = createContext();\n\nconst UserContext = ({ children }) => {\n  const [user, setUser] = useState({ loggedIn: null });\n  const navigate = useNavigate();\n  useEffect(() => {\n    fetch(\"http://localhost:4000/auth/login\", {\n      credentials: \"include\",\n    })\n      .catch(err => {\n        setUser({ loggedIn: false });\n        return;\n      })\n      .then(r => {\n        if (!r || !r.ok || r.status >= 400) {\n          setUser({ loggedIn: false });\n          return;\n        }\n        return r.json();\n      })\n      .then(data => {\n        if (!data) {\n          setUser({ loggedIn: false });\n          return;\n        }\n        setUser({ ...data });\n        navigate(\"/home\");\n      });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  return (\n    <AccountContext.Provider value={{ user, setUser }}>\n      {children}\n    </AccountContext.Provider>\n  );\n};\n\nexport default UserContext;"],"mappings":";;;;;;;AAAA,SAASA,WAAT,QAA4B,cAA5B;;;AAEA,eAA+CC,OAAO,CAAC,OAAD,CAAtD;AAAA,IAAQC,aAAR,YAAQA,aAAR;AAAA,IAAuBC,QAAvB,YAAuBA,QAAvB;AAAA,IAAiCC,SAAjC,YAAiCA,SAAjC;;AAEA,OAAO,IAAMC,cAAc,GAAGH,aAAa,EAApC;;AAEP,IAAMI,WAAW,GAAG,SAAdA,WAAc,OAAkB;EAAA;;EAAA,IAAfC,QAAe,QAAfA,QAAe;;EACpC,gBAAwBJ,QAAQ,CAAC;IAAEK,QAAQ,EAAE;EAAZ,CAAD,CAAhC;EAAA;EAAA,IAAOC,IAAP;EAAA,IAAaC,OAAb;;EACA,IAAMC,QAAQ,GAAGX,WAAW,EAA5B;EACAI,SAAS,CAAC,YAAM;IACdQ,KAAK,CAAC,kCAAD,EAAqC;MACxCC,WAAW,EAAE;IAD2B,CAArC,CAAL,CAGGC,KAHH,CAGS,UAAAC,GAAG,EAAI;MACZL,OAAO,CAAC;QAAEF,QAAQ,EAAE;MAAZ,CAAD,CAAP;MACA;IACD,CANH,EAOGQ,IAPH,CAOQ,UAAAC,CAAC,EAAI;MACT,IAAI,CAACA,CAAD,IAAM,CAACA,CAAC,CAACC,EAAT,IAAeD,CAAC,CAACE,MAAF,IAAY,GAA/B,EAAoC;QAClCT,OAAO,CAAC;UAAEF,QAAQ,EAAE;QAAZ,CAAD,CAAP;QACA;MACD;;MACD,OAAOS,CAAC,CAACG,IAAF,EAAP;IACD,CAbH,EAcGJ,IAdH,CAcQ,UAAAK,IAAI,EAAI;MACZ,IAAI,CAACA,IAAL,EAAW;QACTX,OAAO,CAAC;UAAEF,QAAQ,EAAE;QAAZ,CAAD,CAAP;QACA;MACD;;MACDE,OAAO,mBAAMW,IAAN,EAAP;MACAV,QAAQ,CAAC,OAAD,CAAR;IACD,CArBH,EADc,CAuBd;EACD,CAxBQ,EAwBN,EAxBM,CAAT;EAyBA,oBACE,QAAC,cAAD,CAAgB,QAAhB;IAAyB,KAAK,EAAE;MAAEF,IAAI,EAAJA,IAAF;MAAQC,OAAO,EAAPA;IAAR,CAAhC;IAAA,UACGH;EADH;IAAA;IAAA;IAAA;EAAA,SADF;AAKD,CAjCD;;GAAMD,W;UAEaN,W;;;KAFbM,W;AAmCN,eAAeA,WAAf"},"metadata":{},"sourceType":"module"}